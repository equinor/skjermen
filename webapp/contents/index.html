<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="refresh" content="14400">
  <title>Skjermen</title>
  <link href="https://fonts.googleapis.com/css?family=News+Cycle" rel="stylesheet">
  <base target="_blank" href=".">
  <link rel="stylesheet" type="text/css" href="styles/skjermen.css">
  <link rel="stylesheet" type="text/css" href="styles/news-ticker.css">
  <link rel="stylesheet" type="text/css" href="styles/pro-tip.css">
  <link rel="stylesheet" type="text/css" href="styles/entertainment.css">
  <link rel="stylesheet" type="text/css" href="https://gitcdn.xyz/repo/pi0/clippyjs/master/assets/clippy.css">
</head>

<body dir="ltr">

<div class="video-and-info">
  <div class="entertainment-container">
    <iframe src="/atb/New/minskjerm/FST.aspx?visMode=1&cTit=&c1=1&s1=16011410&sv1=6&cn1=Skal%20du%20ta%20buss%3F%20%28fra+Rotvoll-stoppet%29&template=3&cmhb=A8AD00&cmhc=000000&cshb=000000&cshc=FFFFFF&arb=000000&rows=3&period=&" frameborder="0">
      Har du ikke skrudd påiframes? Da må du selv finne ut når bussen går!
    </iframe>
  </div>

  <div class="pro-tip-container">
    <h1 class="pro-tip-header">Nullstille branchen til slik den ser ut på GitHub?</h1>
      Legg dette inn i <span class="code">.gitconfig</span>-fila i hjemmekatalogen din:
<pre>
[alias]
  current-branch-name = !git rev-parse --abbrev-ref HEAD
  fresh = !git reset --hard origin/$(git current-branch-name)
</pre>
... og skriv <b><span class="code">git fresh</pre></b>. Dette er et praktisk alias å bruke hvis noen har skrevet om historikken på feature branchen sin og du bare vil se/teste siste versjon lokalt.
    <div class="pro-tip-footer">
      <div class="pro-tip-footer-content">
        <p>Lag alias for ting du bruker ofte!</p>
      </div>
    </div>
  </div>

  <div class="ticker-container">
    <div class="ticker-wrap">
      <div class="ticker-move" id="ticker">
        <div class="ticker-item"><img src="images/ruby.png" class="ticker-image"></div>
        <div class="ticker-item"><span class="emphasis">Ruby</span> er et programmeringsspråk som er fokusert på utvikler-lykke. Lær deg Ruby på <a href="ruby-lang.org">ruby-lang.org</a></div>
        <div class="ticker-item">Ting du skriver i <span class="emphasis">#skjermen</span> på Slack, havner her!</div>
        <div class="ticker-item"><img src="images/ruby.png" class="ticker-image"></div>
        <div class="ticker-item"><img src="images/skifree-running-yeti.gif" class="ticker-image"></div>
      </div>
    </div>
  </div>
</div>

<div class="footer">
  <p>Powered by <a href="https://console.radix.equinor.com/">radix</a>, <a href="https://www.nginx.com/">nginx</a> and
    <a href="https://www.docker.com/">Docker</a>.</p>
  <p><a class="github-link" href="https://github.com/equinor/skjermen"> <img src="images/GitHub-Mark-32px.png">Equinor/Skjermen</a>
  </p>
</div>

<div class="llama-container">
  <a href="https://wiki.equinor.com/wiki/index.php/Drilling_&_Well_Integration_Team" title="Team Awesome"
     target="_blank"><img src="images/llama.jpg" alt="3D-printed Llama"></a>
</div>

<script src="https://unpkg.com/jquery@3.2.1"></script>
<script src="https://unpkg.com/clippyjs@latest"></script>
<script src="scripts/clippy.js"></script>
<script>
 function addTickerMessage(message) {
     var element = document.createElement('div');
     element.className = 'ticker-item';
     element.innerHTML = message;
     document.getElementById('ticker').appendChild(element);
 }

  const locationUrl = window.location;
  const url = locationUrl.protocol + "//" + locationUrl.host + '/api/slack/list';
  const messagesUrl = url.includes('radix') ? url.replace('main-', 'slack-') : 'https://slack-skjermen-dev.playground-4.playground.radix.equinor.com/api/slack/list';
  fetch(messagesUrl, {
    method: 'get',
    mode: 'cors'
  })
  .then(response => response.json())
  .then(messages =>  messages.forEach(message => addTickerMessage(message)))
  .catch(function(err) {
    addTickerMessage("There was an error in retrieving the latest messages");
    console.log(err);
  });
</script>

</body>
</html>
